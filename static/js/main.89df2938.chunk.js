(this["webpackJsonprestaurant-p7"]=this["webpackJsonprestaurant-p7"]||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/person-icon.9a6884b3.png"},24:function(e,t,a){e.exports=a.p+"static/media/restaurant-icon.e43fad9f.png"},26:function(e,t,a){e.exports=a(45)},32:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),i=a.n(r),o=a(25),s=a(15),c=a(16),u=a.n(c),m=a(21),p=a(2),g=(a(32),a(6)),d=a(4),y=a(10),v=a(11),b=a(3),f=a(14),h=a(13),E=a(22),O=a.n(E),j=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={name:"",rating:0,address:"",visible:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.submitForm=n.submitForm.bind(Object(b.a)(n)),n}return Object(v.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"submitForm",value:function(e){e.preventDefault();var t={name:this.state.name,rating:parseFloat(this.state.rating),vicinity:this.state.address,geometry:{location:{lat:this.props.newPlaceLat,lng:this.props.newPlaceLng}}};return this.props.onAddRestaurant(t)}},{key:"render",value:function(){var e=this;return l.a.createElement(O.a,{visible:this.props.visible,width:"400",height:"300",effect:"fadeInLeft",onClickAway:function(){return e.props.closeModal()}},l.a.createElement("div",null,l.a.createElement("h3",null,"Add/Edit Restaurant"),l.a.createElement("form",{onSubmit:this.submitForm},l.a.createElement("div",null,l.a.createElement("input",{type:"text",placeholder:"Name...",name:"name",value:this.state.name,onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("label",null,"Rating:"),l.a.createElement("select",{name:"rating",value:this.state.rating,onChange:this.handleChange},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"))),l.a.createElement("div",null,l.a.createElement("input",{type:"text",placeholder:"Address...",name:"address",value:this.state.address,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"submit-button"},"submit"))))}}]),a}(n.Component),w=a(12),C=a.n(w);var T=function(e){var t=e.firstRating,a=e.setFirstRating,n=e.secondRating,r=e.setSecondRating;return l.a.createElement("div",{className:"filter-ratings"},l.a.createElement("form",null,l.a.createElement("label",null,"Choose by Rating:"),l.a.createElement("select",{className:"rating-one",onChange:function(e){a(e.target.value)},value:t},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5")),"to",l.a.createElement("select",{className:"rating-two",onChange:function(e){r(e.target.value)},value:n},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"))))},S=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={userReview:""},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.submitForm=n.submitForm.bind(Object(b.a)(n)),n}return Object(v.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(d.a)({userReview:e.target.value},e.target.name,e.target.value)),this.props.setInfoWindowName(e.target.name),console.log(e.target.name),console.log(e.target.value)}},{key:"submitForm",value:function(e){e.preventDefault(),this.setState({userReview:""}),this.props.setQuery(this.state.userReview),console.log("submitted")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.submitForm},l.a.createElement("textarea",{style:{padding:"1rem",borderRadius:"3px"},value:this.state.userReview,name:this.props.name,placeholder:"Add a Review...",onChange:this.handleChange}),l.a.createElement("button",{className:"submit-button",type:"submit"},"submit")))}}]),a}(n.Component),R=a(8);function k(e,t){return e.name.localeCompare(t.name)}function x(e){var t=e.nearbyRestaurants,a=e.setQuery,n=e.setInfoWindowName;return l.a.createElement("div",{className:"restaurant-list"},l.a.createElement("ul",null,l.a.createElement("li",{className:"list-header"},"Restaurants"),0===t.length?l.a.createElement("li",{style:{height:"100vh",fontSize:"3rem",textAlign:"center"}},"Loading....."):t.sort(k).map((function(e){return l.a.createElement("div",{key:Object(R.v4)()},l.a.createElement("li",null,l.a.createElement("div",{style:{fontSize:"1.3rem",fontWeight:"bold"}},e.name),l.a.createElement("br",null),l.a.createElement("div",{style:{color:"gold"}},e.rating,l.a.createElement("span",null,l.a.createElement(C.a,{rating:e.rating,starDimension:"20px",starSpacing:"1px",starRatedColor:"gold",numberOfStars:5,name:"rating"}))),l.a.createElement("br",null),l.a.createElement("div",{style:{fontStyle:"italic"}},e.vicinity),l.a.createElement(S,{key:e.name,name:e.name,setQuery:a,setInfoWindowName:n})))}))))}var L=a(23),N=a.n(L),F=a(24),z=a.n(F),A="AIzaSyDyb_aKsyq5CtMO83PKMbTVL79kCLTxqc8",I=["places"],D={height:"100vh",width:"100vw"},M={styles:[{featureType:"administrative",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{lightness:"-45"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"##000000"},{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#969696"},{visibility:"off"}]},{featureType:"road",elementType:"labels.text",stylers:[{hue:"#ff0000"},{saturation:"32"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{saturation:"47"},{color:"#c7c7c7"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"},{lightness:"-62"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]}],disableDefaultUI:!0,zoomControl:!0};function P(){var e=Object(g.d)({googleMapsApiKey:A,libraries:I}),t=e.isLoaded,a=e.loadError,r=Object(n.useState)({lat:0,lng:0}),i=Object(p.a)(r,2),c=i[0],d=i[1],y=Object(n.useState)(null),v=Object(p.a)(y,2),b=v[0],f=v[1],h=Object(n.useState)(!1),E=Object(p.a)(h,2),O=E[0],w=E[1],S=Object(n.useState)([]),k=Object(p.a)(S,2),L=k[0],F=k[1],P=Object(n.useState)(null),W=Object(p.a)(P,2),Q=W[0],K=W[1],q=Object(n.useState)(0),J=Object(p.a)(q,2),_=J[0],B=J[1],U=Object(n.useState)(5),V=Object(p.a)(U,2),G=V[0],H=V[1],X=Object(n.useState)(""),Y=Object(p.a)(X,2),Z=Y[0],$=Y[1],ee=Object(n.useState)(""),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],le=['"Food/service was great!"','"This place was pretty good"','"We had an okay experience"','"Did not have a great experience"'],re=function(){w(!1),f(null)};Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a,n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",t="https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=".concat(c.lat,",").concat(c.lng,"&radius=6047&type=restaurant&key=").concat(A),e.next=4,fetch("https://cors-anywhere.herokuapp.com/"+t);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,l=n.results&&n.results.filter((function(e){return e.rating>=_&&e.rating<=G?e:null})),F(l);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c.lat,c.lng,_,G]),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){d((function(t){return Object(s.a)(Object(s.a)({},t.currentLatLng),{},{lat:e.coords.latitude,lng:e.coords.longitude})}))})):console.log("error loading map");var ie={lat:c.lat,lng:c.lng};return a?"Error loading map":t?l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Restaurant Review"),l.a.createElement(g.a,{mapContainerStyle:D,center:ie,options:M,onClick:function(e){f({lat:e.latLng.lat(),lng:e.latLng.lng()}),w(!0)},zoom:13},l.a.createElement(g.c,{position:{lat:c.lat,lng:c.lng},icon:{url:N.a,scaledSize:new window.google.maps.Size(30,30)}}),b&&l.a.createElement(j,{visible:O,newPlaceLat:b.lat,newPlaceLng:b.lng,onAddRestaurant:function(e){F([e].concat(Object(o.a)(L))),re()},closeModal:function(){re()}}),L.map((function(e){return l.a.createElement(g.c,{key:Object(R.v4)(),position:{lat:e.geometry.location.lat,lng:e.geometry.location.lng},onClick:function(){K(e)},icon:{url:z.a,scaledSize:new window.google.maps.Size(40,40)}})})),Q?l.a.createElement(g.b,{position:{lat:Q.geometry.location.lat,lng:Q.geometry.location.lng},onCloseClick:function(){K(null)}},l.a.createElement("div",null,l.a.createElement("h4",null,Q.name),l.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/streetview?size=160x80&location=".concat(Q.geometry.location.lat,",").concat(Q.geometry.location.lng,"&fov=80&heading=70&pitch=0&key=").concat(A),alt:"restaurant-street-view"}),l.a.createElement("div",{style:{color:"gold"}},Q.rating," ",l.a.createElement("span",null," ",l.a.createElement(C.a,{rating:Q.rating,starDimension:"18px",starSpacing:"1px",starRatedColor:"gold",numberOfStars:5}))),l.a.createElement("div",null,l.a.createElement("div",null,ae===Q.name?'"'.concat(Z,'"'):null),Q.rating>=4?le[0]:Q.rating>=3.5?le[1]:Q.rating>=3?le[2]:le[3]))):null,l.a.createElement(T,{firstRating:_,setFirstRating:B,secondRating:G,setSecondRating:H}),l.a.createElement(x,{key:Object(R.v4)(),nearbyRestaurants:L,setQuery:$,setInfoWindowName:ne}))):"Loading..."}i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.89df2938.chunk.js.map